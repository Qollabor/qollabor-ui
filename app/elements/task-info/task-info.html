<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/paper-input/paper-input.html">

<link rel="import" href="../../bower_components/paper-divider/paper-divider.html">
<link rel="import" href="../../bower_components/mat-subheader/mat-subheader.html">

<link rel="import" href="../../elements/cafienne-taskactions/cafienne-taskactions.html">

<dom-module id="task-info">
  <template>

    <style>
      :host {
        display: block;
      }

      .bottom-right {
        position: absolute;
        bottom: 10px;
        right: 10px;
      }

      paper-input {
        max-width: 90%;
      }

      paper-toast {
        z-index: 1000;
      }

    </style>
    <div id="taskinfo">
      <mat-subheader label="General info"></mat-subheader>
      <paper-input label="Task name" value="{{task.taskName}}" readonly always-float-label></paper-input>
      <paper-input label="Task InstanceId" value="{{task.id}}" readonly always-float-label></paper-input>
      <paper-input label="Case" value="{{task.caseDefinition}}" readonly always-float-label></paper-input>
      <paper-input label="User" value="{{task.user}}" readonly always-float-label></paper-input>
      <paper-input label="Role" value="{{task.role}}" readonly always-float-label></paper-input>
    </div>
    <template is="dom-if" if="{{task.parameters.keys.length}}">
      <div id="taskparams">
        <paper-divider></paper-divider>
        <mat-subheader label="Task parameters"></mat-subheader>
      </div>
    </template>
    <!--paper-divider></paper-divider>
    <mat-subheader label="Task actions"></mat-subheader>
    <cafienne-taskactions task-state="Active" task-id="{{task.id}}" case-instance-id="{{caseinstanceid}}"></cafienne-taskactions-->


  </template>
  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'task-info',

      properties: {
        task: {
          type: Object,
          notify: true,
          observer: '_taskReceived'
        },
        caseinstanceid: {
          type: String,
          notify: true
        }
      },

      _taskReceived: function(task) {
        console.log(task.parameters);
      }
    });
  })();
  </script>
</dom-module>
